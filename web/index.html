<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>VRC Shift Scheduler API Sandbox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        margin: 0;
        padding: 16px;
        background: #0f172a;
        color: #e5e7eb;
      }
      h1 {
        font-size: 20px;
        margin-bottom: 8px;
      }
      h2 {
        font-size: 16px;
        margin-top: 24px;
        margin-bottom: 8px;
      }
      .card {
        background: #111827;
        border-radius: 8px;
        padding: 12px;
        margin-bottom: 16px;
        border: 1px solid #1f2937;
      }
      label {
        display: block;
        font-size: 13px;
        margin-top: 8px;
        margin-bottom: 4px;
      }
      input,
      select,
      textarea {
        width: 100%;
        box-sizing: border-box;
        padding: 6px 8px;
        border-radius: 4px;
        border: 1px solid #374151;
        background: #020617;
        color: #e5e7eb;
        font-family: inherit;
        font-size: 13px;
      }
      textarea {
        min-height: 80px;
        resize: vertical;
      }
      button {
        padding: 6px 10px;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        font-size: 13px;
        margin-right: 6px;
        margin-top: 8px;
      }
      .btn-primary {
        background: #3b82f6;
        color: white;
      }
      .btn-secondary {
        background: #4b5563;
        color: white;
      }
      .row {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }
      .row > div {
        flex: 1 1 160px;
      }
      pre {
        background: #020617;
        padding: 8px;
        border-radius: 4px;
        overflow-x: auto;
        font-size: 12px;
        border: 1px solid #1f2937;
        white-space: pre-wrap;
        word-break: break-all;
      }
      .status-ok {
        color: #22c55e;
      }
      .status-error {
        color: #f97316;
      }
      small {
        font-size: 11px;
        color: #9ca3af;
      }
      code {
        background: #1f2937;
        padding: 2px 4px;
        border-radius: 2px;
        font-size: 11px;
      }
    </style>
    <script defer src="./main.js"></script>
  </head>
  <body>
    <h1>ğŸ® VRC Shift Scheduler API Sandbox</h1>
    <small>â€» æœ€åˆã¯ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ â†’ Event ä¸€è¦§ãã‚‰ã„ã‹ã‚‰è©¦ã™ã¨æ¥½ã§ã™ã€‚</small>

    <div class="card">
      <h2>1. æ¥ç¶šè¨­å®š</h2>
      <div class="row">
        <div>
          <label for="apiBase">API Base URL</label>
          <input
            id="apiBase"
            type="text"
            placeholder="http://localhost:8082"
          />
        </div>
        <div>
          <label for="tenantHeaderName">ãƒ†ãƒŠãƒ³ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼å</label>
          <input
            id="tenantHeaderName"
            type="text"
            placeholder="X-Tenant-ID"
          />
        </div>
        <div>
          <label for="tenantId">Tenant ID</label>
          <input id="tenantId" type="text" placeholder="01KBHMYWYKRV8PK8EVYGF1SHV0" />
        </div>
      </div>
      <div class="row">
        <div>
          <label for="memberHeaderName">ãƒ¡ãƒ³ãƒãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼å</label>
          <input
            id="memberHeaderName"
            type="text"
            placeholder="X-Member-ID"
          />
        </div>
        <div>
          <label for="memberId">Member ID (ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«)</label>
          <input id="memberId" type="text" placeholder="01K..." />
        </div>
      </div>
      <small>
        â€» Tenant ID ã¯å¿…é ˆã§ã™ã€‚Member ID ã¯ä¸€éƒ¨ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§å¿…è¦ã§ã™ã€‚
      </small>
    </div>

    <div class="card">
      <h2>2. ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ</h2>
      <div class="row">
        <div style="flex: 0 0 100px">
          <label for="method">HTTP Method</label>
          <select id="method">
            <option>GET</option>
            <option>POST</option>
            <option>PUT</option>
            <option>PATCH</option>
            <option>DELETE</option>
          </select>
        </div>
        <div>
          <label for="path">Path</label>
          <input
            id="path"
            type="text"
            placeholder="/health or /api/v1/events"
          />
        </div>
      </div>

      <label for="extraHeaders">
        è¿½åŠ ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆ1è¡Œã«1ã¤ã€ä¾‹: <code>Authorization: Bearer xxx</code>ï¼‰
      </label>
      <textarea
        id="extraHeaders"
        placeholder="X-Example: foo"
      ></textarea>

      <label for="body">Request Body (JSON)</label>
      <textarea
        id="body"
        placeholder='{"event_name": "VRCå®šæœŸã‚¤ãƒ™ãƒ³ãƒˆ", "event_type": "normal"}'
      ></textarea>

      <button id="sendBtn" class="btn-primary">é€ä¿¡</button>

      <div style="margin-top: 8px">
        <small>ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼š</small><br />
        <button id="presetHealth" class="btn-secondary">
          GET /health
        </button>
        <button id="presetListEvents" class="btn-secondary">
          GET /api/v1/events
        </button>
        <button id="presetCreateEvent" class="btn-secondary">
          POST /api/v1/events
        </button>
        <button id="presetCreateBusinessDay" class="btn-secondary">
          POST /events/:id/business-days
        </button>
        <button id="presetListBusinessDays" class="btn-secondary">
          GET /events/:id/business-days
        </button>
      </div>
    </div>

    <div class="card">
      <h2>3. ãƒ¬ã‚¹ãƒãƒ³ã‚¹</h2>
      <div id="responseMeta">
        <span id="responseStatus"></span>
      </div>
      <h3 style="font-size: 14px; margin-top: 8px">Headers</h3>
      <pre id="responseHeaders"></pre>
      <h3 style="font-size: 14px; margin-top: 8px">Body</h3>
      <pre id="responseBody"></pre>
    </div>

    <div class="card">
      <h2>ğŸ“– API ã‚¬ã‚¤ãƒ‰</h2>
      <small>
        <strong>å®Ÿè£…æ¸ˆã¿ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:</strong><br />
        â€¢ GET /health - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯<br />
        â€¢ POST /api/v1/events - Event ä½œæˆ<br />
        â€¢ GET /api/v1/events - Event ä¸€è¦§å–å¾—<br />
        â€¢ GET /api/v1/events/:event_id - Event è©³ç´°å–å¾—<br />
        â€¢ POST /api/v1/events/:event_id/business-days - å–¶æ¥­æ—¥ä½œæˆ<br />
        â€¢ GET /api/v1/events/:event_id/business-days - å–¶æ¥­æ—¥ä¸€è¦§å–å¾—<br />
        â€¢ GET /api/v1/business-days/:business_day_id - å–¶æ¥­æ—¥è©³ç´°å–å¾—<br />
        <br />
        <strong>ä½¿ã„æ–¹ã®ã‚³ãƒ„:</strong><br />
        1. ã¾ãšã€ŒGET /healthã€ã§ç–é€šç¢ºèª<br />
        2. ã€ŒPOST /api/v1/eventsã€ã§Eventã‚’ä½œæˆ<br />
        3. ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰ event_id ã‚’ã‚³ãƒ”ãƒ¼<br />
        4. Path ã« <code>/api/v1/events/[event_id]/business-days</code> ã‚’å…¥ã‚Œã¦å–¶æ¥­æ—¥ä½œæˆ<br />
      </small>
    </div>
  </body>
</html>

